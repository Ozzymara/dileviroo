{% load static %}
<!doctype html>
<html lang="en">

<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta name="description" content="View customer bill details, total charges, and itemised purchases">

    <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
    {% block js %}{% endblock %}


    <title>{% block title %}üîê Login{% endblock %} üçï Dileviroo</title>
    <link rel="icon" type="image/webp" href="{% static 'logo.webp' %}">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha2/dist/css/bootstrap.min.css" rel="stylesheet"
        integrity="sha384-aFq/bzH65dt+w6FI2ooMVUpc+21e0SRygnTpmBvdBgSdnuTN7QbdgL+OapgHtvPp" crossorigin="anonymous">
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.2.0/css/all.min.css" rel="stylesheet">

    <style>
        * {
            text-decoration: none;
        }

        .nav-logo {
            font-size: 25px;
        }

        .nav-link {
            font-size: 20px;
        }

        .nav-button {
            color: snow;
            font-size: 18px;
        }

        .navbar {
            background-color: #2D5D81;
        }

        .btn-outline-warning a {
            color: white !important;
            text-decoration: none;
        }

        .btn-outline-warning:hover a {
            color: #2D5D81 !important;
        }

        /* Dark mode styles */
        body.dark-mode {
            background-color: #181a1b !important;
            color: #e0e0e0 !important;
        }

        body.dark-mode .navbar {
            background-color: #11161a !important;
        }

        body.dark-mode .nav-link,
        body.dark-mode .navbar-brand {
            color: #e0e0e0 !important;
        }

        body.dark-mode .btn-outline-warning {
            border-color: #ffc107;
        }

        body.dark-mode .btn-outline-warning a {
            color: #ffc107 !important;
        }

        body.dark-mode .btn-outline-warning:hover a {
            color: #181a1b !important;
        }

        html,
        body {
            height: 100%;
            margin: 0;
            display: flex;
            flex-direction: column;
        }

        main {
            flex: 1;
        }

        .divider:after,
        .divider:before {
            content: "";
            flex: 1;
            height: 1px;
        }


        .h-custom {
            height: calc(100% - 73px);
        }

        @media (max-width: 450px) {
            .h-custom {
                height: 100%;
            }
        }

        /* Social media icons in the footer */
.social-icon {
    width: 32px;
    height: 32px;
    margin: 0 12px;
    vertical-align: middle;
    transition: transform 0.3s ease;
}

.social-icon:hover {
    transform: scale(1.2); /* Scale up on hover */
}

.social-icon:focus {
    outline: 2px solid var(--accent); /* Add focus outline for accessibility */
}

/* Responsive footer adjustments */
@media (max-width: 768px) {
    footer {
        flex-direction: column;
        text-align: center;
        padding: 20px 10px;
    }

    .social-icon {
        margin: 8px;
    }
}
    </style>
</head>
<main class="flex-grow-1">
    <nav class="navbar navbar-expand-lg navbar-dark custom-navbar sticky-top">
        <div class="container-fluid">
            <img src="static/logo.webp" alt="Dileviroo Logo" width="50" height="50" class="d-inline-block align-text-top me-md-2">
            <div class='nav-logo'>
                <a class="navbar-brand" href="/login">Dileviroo</a>
                <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarSupportedContent" aria-controls="navbarSupportedContent" aria-expanded="false" aria-label="Toggle navigation">
                    <span class="navbar-toggler-icon"></span>
                </button>
            </div>
            <!-- Light/Dark mode toggle button -->
            <button id="theme-toggle" class="btn btn-sm btn-outline-light ms-3" type="button" style="height:40px;">
              <span id="theme-toggle-icon">üåô</span>
            </button>
            <!-- End toggle button -->

            <div class="collapse navbar-collapse" id="navbarSupportedContent">
                <ul class="navbar-nav me-auto mb-2 mb-lg-0">
                    {%if user.is_superuser%}
                    <li class="nav-item">
                        <a class="nav-link active" aria-current="page" href="/">Edit Menu</a>
                    </li>
                    {%else%}
                    <li class="nav-item">
                        <a class="nav-link active" aria-current="page" href="{% url 'menu' %}">Menu</a>
                    </li>
                    <li>
                        <a class="nav-link active" href="/cart">Cart(<span id="cart">0</span>)</a>
                    </li>
                    {%endif%}

                    <li class="nav-item">
                        <a class="nav-link active" href="/reviews">Reviews</a>
                    </li>
                    {% if user.is_authenticated %}
                    <li class="nav-item">
                        <a class="nav-link active" href="/profile">Profile</a>
                    </li>
                    {% if user.is_superuser %}
                    <li class="nav-item">
                        <a class="nav-link active" href="/manage_menu">Add Item</a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link active" href="/all_orders">Orders</a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link active" href="/view_bills">Bills</a>
                    </li>
                    <!-- <li class="nav-item">
                  <a class="nav-link active" href="/admin">DataBase</a>
                </li> -->
                    {% else %}
                    <!-- <li>
                    <a class="nav-link active" href="/cart">Cart(<span id="cart">0</span>)</a>
                </li> -->
                    <li class="nav-item">
                        <a class="nav-link active" href="/my_orders">My orders</a>
                    </li>
                    {% endif %}
                    {% endif %}
                </ul>

                {% if user.is_authenticated %}

                <div class="nav-button">
                    <a href="/logout" class="btn btn-outline-warning me-md-2 text-white">Logout</a>

                    {% else %}
                    {% comment %} original {% endcomment %}
                    <a href="/login" class="btn btn-outline-warning me-md-2 text-white">Login</a>
                    <a href="/signup" class="btn btn-outline-warning text-white">Sign Up</a>

                    {% endif %}

                </div>
            </div>
    </nav>

    {% block body %}<p style="color: red;">Hello from base.html</p>
    {% endblock body %}
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha2/dist/js/bootstrap.bundle.min.js"
        integrity="sha384-qKXV1j0HvMUeCBQ+QVp7JcfGl760yU08IQ+GpUo5hlbpg51QRiuqHAJz8+BrxE/N" crossorigin="anonymous">
    </script>
    <script src="https://code.jquery.com/jquery-3.4.1.slim.min.js"
        integrity="sha384-J6qa4849blE2+poT4WnyKhv5vZF5SrPo0iEjwBvKU7imGFAV0wwj1yYfoRSJoZ+n" crossorigin="anonymous">
    </script>
    <script src="https://cdn.jsdelivr.net/npm/popper.js@1.16.0/dist/umd/popper.min.js"
        integrity="sha384-Q6E9RHvbIyZFJoft+2mJbHaEWldlvI9IOYy5n3zV9zzTtmI3UksdQRVvoxMfooAo" crossorigin="anonymous">
    </script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@4.4.1/dist/js/bootstrap.min.js"
        integrity="sha384-wfSDF2E50Y2D1uUdj0O3uMBJnjuUD4Ih7YwaYd1iqfktj0Uod8GCExl3Og8ifwB6" crossorigin="anonymous">
    </script>

    <script>
        if (localStorage.getItem('cart')==null){
    var cart={};
  }
  else{
    cart = JSON.parse(localStorage.getItem('cart'));
  }
  // console.log(cart);
  var total = 0;
    for (var item in cart){
      total = total + cart[item][0]
      document.getElementById('cart').innerHTML= total;
    }
        
    </script>
</main>

<!--Footer section-->
<footer class="text-center py-3 bg-light">
   <!-- SOCIAL MEDIA ICONS -->
   <div class="mb-3">
      <a href="https://www.linkedin.com/"
         target="_blank"
         rel="noopener"
         aria-label="LinkedIn - opens in a new tab">
      <img src="/dileviroo/static/linkedin.webp"
         alt="LinkedIn Icon"
         class="social-icon">
      </a>
      <a href="https://github.com/"
         target="_blank"
         rel="noopener"
         aria-label="GitHub - opens in a new tab">
      <img src="/dileviroo/static/github.webp"
         alt="GitHub Icon"
         class="social-icon">
      </a>
      <a href="https://www.instagram.com/"
         target="_blank"
         rel="noopener"
         aria-label="Instagram - opens in a new tab">
      <img src="/dileviroo/static/instagram.webp"
         alt="Instagram Icon"
         class="social-icon">
      </a>
      <a href="https://x.com/?lang=en"
         target="_blank"
         rel="noopener"
         aria-label="Twitter - opens in a new tab">
      <img src="/dileviroo/static/twitter.webp"
         alt="Twitter Icon"
         class="social-icon">
      </a>
      <a href="https://www.youtube.com/"
         target="_blank"
         rel="noopener"
         aria-label="YouTube - opens in a new tab">
      <img src="/dileviroo/static/youtube.webp"
         alt="YouTube Icon"
         class="social-icon">
      </a>
   </div>
   <!-- COPYRIGHT -->

<class="d-flex justify-content-center mt-5">

    <div>
        <a href="https://github.com/Ozzymara/dileviroo" target="_blank" aria-label="¬© Dileviroo GitHub page">
            <i class="fa-brands" style="color: #2D5D81" aria-hidden="true">
     &copy; Dileviroo -
   </i>
        </a>

        <a href="https://github.com/Ozzymara" target="_blank"
            aria-label="github-link-ozzy"><i class="fa-brands fa-github" style="color: #2D5D81"> Ozzy</i></a>
    </div>
</footer>

<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"
    integrity="sha384-YvpcrYf0tY3lHB60NNkmXc5s9fDVZLESaAA55NDzOxhy9GkcIdslK1eN7N6jIeHz" crossorigin="anonymous">
</script>

<!--Font Awesome Kit-->
<script src="https://kit.fontawesome.com/44c5112f86.js" crossorigin="anonymous"></script>

<script>
    /* global document, localStorage, window */
    // Light/Dark mode script
      (function() {
        const toggleBtn = document.getElementById('theme-toggle');
        const icon = document.getElementById('theme-toggle-icon');
        const prefersDark = window.matchMedia && window.matchMedia('(prefers-color-scheme: dark)').matches;
        const storedTheme = localStorage.getItem('theme');
        function setTheme(dark) {
          if (dark) {
            document.body.classList.add('dark-mode');
            icon.textContent = '‚òÄÔ∏è';
            localStorage.setItem('theme', 'dark');
          } else {
            document.body.classList.remove('dark-mode');
            icon.textContent = 'üåô';
            localStorage.setItem('theme', 'light');
          }
        }
        // Initial theme
        setTheme(storedTheme === 'dark' || (!storedTheme && prefersDark));
        toggleBtn.addEventListener('click', function() {
          setTheme(!document.body.classList.contains('dark-mode'));
        });
      })();

          if (localStorage.getItem('cart')==null){
    var cart={};
  }
  else{
    cart = JSON.parse(localStorage.getItem('cart'));
  }
  // console.log(cart);
  var total = 0;
    for (var item in cart){
      total = total + cart[item][0];
      document.getElementById('cart').innerHTML= total;
    }
        
</script>

{% block scripts %}{% endblock scripts %}
</body>

</html>